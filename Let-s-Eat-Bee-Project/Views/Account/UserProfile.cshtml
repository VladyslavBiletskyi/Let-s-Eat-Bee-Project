@model Let_s_Eat_Bee_Project.Models.AuthorizedUser

@{
    ViewBag.Title = "Profile";
}
<div class="block-order">
    <div class="container">
        <div class="info-block">
            <div class="row">
                <div class="col s12">
                    <ul class="tabs">
                        <li class="tab col s3"><a href="#info">About you</a></li>
                        <li class="tab col s3"><a href="#edit">Edit your profile</a></li>
                        <li class="tab col s3"><a href="#change_pass">Change password</a></li>
                    </ul>
                </div>
                <div id="info" class="col s12">
                    <div class="row">
                        <div class="col s3">Your First Name: </div>
                        <div class="col s9">@Model.FirstName</div>
                    </div>
                    <div class="row">
                        <div class="col s3">Your Last Name: </div>
                        <div class="col s9">@Model.LastName</div>
                    </div>
                    <div class="row">
                        <div class="col s3">Your E-Mail: </div>
                        <div class="col s9">@Model.AppUser.Email</div>
                    </div>
                    <div class="row">
                        <div class="col s3">Organization you belong to: </div>
                        <div class="col s9">@Model.Organization</div>
                    </div>
                </div>
                <div id="edit" class="col s12">
                    @using (Html.BeginForm("EditProfile", "Account"))
                    {
                        <div class="row">
                            <div class="input-field col s6">
                                <label for="first_name">First Name</label>
                                @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @id = "first_name", @required = "true" } })
                            </div>
                            <div class="input-field col s6">
                                <label for="last_name">Last Name</label>
                                @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @id = "last_name", @required = "true" } })
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <label for="organization">Organization</label>
                                @Html.EditorFor(model => model.Organization, new { htmlAttributes = new { @id = "organization", @required = "true" } })
                            </div>
                        </div>
                        <br />
                        <center>
                            <div class="row">
                                <div class="button">
                                    <button type="submit"  id="apply" class="waves-effect waves-light btn #4a148c purple darken-3">Apply changes</button>
                                </div>
                            </div>
                        </center>
                    }
                </div>
                <div id="change_pass" class="col s12">
                    <div class="col s3"></div>
                    <div class="col s6">
                    @using (Html.BeginForm("ChangePassword", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
                            @Html.ValidationSummary();
                            <div class="row">
                                <div class="input-field col s12">
                                    <label for="new_password">New Password</label>
                                    <input type="password" id="new_password" required name="NewPassword"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s12">
                                    <label for="conf_password">Confirm Password</label>
                                    <input type="password" id="conf_password" class="validate" required  name="ConfirmPassword"/>
                                </div>
                            </div>
                            <center>
                                <div class="row">
                                    <div class="button">
                                        <button type="submit" class="waves-effect waves-light btn #4a148c purple darken-3">Change</button>
                                    </div>
                                </div>
                            </center>
                    }
                    </div>
                    <div class="col s3"></div>
                </div>
            </div>
        </div>   
    </div>
</div>
<script type="text/javascript" src="~/Scripts/profileValidation.js"></script>

